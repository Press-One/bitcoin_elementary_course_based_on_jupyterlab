
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>8 Simplified Payment Verification 简化版支付确认 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="9_Combining_and_Splitting_Value_值的组合与分割.html" />
    
    
    <link rel="prev" href="7_Reclaiming_Disk_Space_回收硬盘空间.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="0_序言.html">
            
                <a href="0_序言.html">
            
                    
                    0 序言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="1_Introduction_简介.html">
            
                <a href="1_Introduction_简介.html">
            
                    
                    1 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="2.1_Transaction_交易_电子货币的定义.html">
            
                <a href="2.1_Transaction_交易_电子货币的定义.html">
            
                    
                    2.1 Transaction 交易 —— 电子货币的定义
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="2.2_Transaction_交易_交易链的难点.html">
            
                <a href="2.2_Transaction_交易_交易链的难点.html">
            
                    
                    2.2 Transaction 交易 —— 交易链的难点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="3_TimeStamp_Server_时间戳服务器.html">
            
                <a href="3_TimeStamp_Server_时间戳服务器.html">
            
                    
                    3 TimeStamp_Server 时间戳服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="4_Proof-of-Work_工作量证明.html">
            
                <a href="4_Proof-of-Work_工作量证明.html">
            
                    
                    4 Proof-of-Work 工作量证明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="5_Network_网络.html">
            
                <a href="5_Network_网络.html">
            
                    
                    5 Network 网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="6_Incentive_奖励.html">
            
                <a href="6_Incentive_奖励.html">
            
                    
                    6 Incentive 奖励
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="7_Reclaiming_Disk_Space_回收硬盘空间.html">
            
                <a href="7_Reclaiming_Disk_Space_回收硬盘空间.html">
            
                    
                    7 Reclaiming Disk Space 回收硬盘空间
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.11" data-path="8_Simplified_Payment_Verification_简化版支付确认.html">
            
                <a href="8_Simplified_Payment_Verification_简化版支付确认.html">
            
                    
                    8 Simplified Payment Verification 简化版支付确认
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="9_Combining_and_Splitting_Value_值的组合与分割.html">
            
                <a href="9_Combining_and_Splitting_Value_值的组合与分割.html">
            
                    
                    9 Combining and Splitting Value 值的组合与分割
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="10_Privacy_隐私.html">
            
                <a href="10_Privacy_隐私.html">
            
                    
                    10 Privacy 隐私
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="11_Calculations_计算.html">
            
                <a href="11_Calculations_计算.html">
            
                    
                    11 Calculations 计算
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="12_Conclusion_结论.html">
            
                <a href="12_Conclusion_结论.html">
            
                    
                    12 Conclusion 结论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="【附】白皮书_原文+翻译+单词注释.html">
            
                <a href="【附】白皮书_原文+翻译+单词注释.html">
            
                    
                    【附】白皮书 原文+翻译+单词注释
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="【附2】比特币相关网站.html">
            
                <a href="【附2】比特币相关网站.html">
            
                    
                    【附2】比特币相关网站
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="【附3】习题集.html">
            
                <a href="【附3】习题集.html">
            
                    
                    【附3】习题集
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >8 Simplified Payment Verification 简化版支付确认</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="8-&#x7B80;&#x5316;&#x7248;&#x652F;&#x4ED8;&#x786E;&#x8BA4;&#xFF08;simplified-payment-verification-privacy&#xFF09;">8 &#x7B80;&#x5316;&#x7248;&#x652F;&#x4ED8;&#x786E;&#x8BA4;&#xFF08;Simplified Payment Verification Privacy&#xFF09;</h1>
<h2 id="&#x539F;&#x6587;&#x4E0E;&#x7FFB;&#x8BD1;">&#x539F;&#x6587;&#x4E0E;&#x7FFB;&#x8BD1;</h2>
<p>It is possible to verify payments without running a full network node. A user only needs to keep a copy of the block headers of the longest proof-of-work chain, which he can get by querying network nodes until he&apos;s convinced he has the longest chain, and obtain the Merkle branch linking the transaction to the block it&apos;s timestamped in. He can&apos;t check the transaction for himself, but by linking it to a place in the chain, he can see that a network node has accepted it, and blocks added after it further confirm the network has accepted it.</p>
<p>&#x5373;&#x4FBF;&#x4E0D;&#x7528;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x786E;&#x8BA4;&#x652F;&#x4ED8;&#x3002;&#x7528;&#x6237;&#x53EA;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4EFD;&#x62E5;&#x6709;&#x5DE5;&#x4F5C;&#x8BC1;&#x660E;&#x7684;&#x6700;&#x957F;&#x94FE;&#x7684;&#x533A;&#x5757;&#x5934;&#x62F7;&#x8D1D; &#x2014;&#x2014; &#x4ED6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x5728;&#x7EBF;&#x8282;&#x70B9;&#x786E;&#x8BA4;&#x81EA;&#x5DF1;&#x786E;&#x5B9E;&#x62E5;&#x6709;&#x6700;&#x957F;&#x94FE;&#xFF0C;&#x540C;&#x65F6;&#x83B7;&#x53D6;&#x4E00;&#x6761; Merkle &#x6811;&#x7684;&#x5206;&#x652F; &#x2014;&#x2014; &#x8BE5;&#x5206;&#x652F;&#x5C06;&#x4EA4;&#x6613;&#x548C;&#x300C;&#x5C06;&#x5176;&#x6253;&#x4E0A;&#x65F6;&#x95F4;&#x6233;&#x540E;&#x7F6E;&#x5165;&#x300D;&#x7684;&#x533A;&#x5757;&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#x3002;&#x7528;&#x6237;&#x5E76;&#x4E0D;&#x80FD;&#x81EA;&#x5DF1;&#x68C0;&#x67E5;&#x4EA4;&#x6613;&#xFF0C;&#x4F46;&#xFF0C;&#x901A;&#x8FC7;&#x5C06;&#x4EA4;&#x6613;&#x8FDE;&#x63A5;&#x5230;&#x94FE;&#x4E0A;&#x7684;&#x67D0;&#x4E2A;&#x5730;&#x65B9;&#xFF0C;&#x4ED6;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x67D0;&#x4E2A;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x5DF2;&#x7ECF;&#x63A5;&#x53D7;&#x4E86;&#x8FD9;&#x4E2A;&#x4EA4;&#x6613;&#xFF0C;&#x800C;&#x6B64;&#x540E;&#x52A0;&#x8FDB;&#x6765;&#x7684;&#x533A;&#x5757;&#x8FDB;&#x4E00;&#x6B65;&#x786E;&#x8BA4;&#x4E86;&#x7F51;&#x7EDC;&#x5DF2;&#x7ECF;&#x63A5;&#x53D7;&#x4E86;&#x6B64;&#x7B14;&#x4EA4;&#x6613;&#x3002;</p>
<p><img src="pics/merkle_tree.svg" alt="merkle tree"></p>
<p>As such, the verification is reliable as long as honest nodes control the network, but is more vulnerable if the network is overpowered by an attacker. While network nodes can verify transactions for themselves, the simplified method can be fooled by an attacker&apos;s fabricated transactions for as long as the attacker can continue to overpower the network. One strategy to protect against this would be to accept alerts from network nodes when they detect an invalid block, prompting the user&apos;s software to download the full block and alerted transactions to confirm the inconsistency. Businesses that receive frequent payments will probably still want to run their own nodes for more independent security and quicker verification.</p>
<p>&#x53EA;&#x8981;&#x8BDA;&#x5B9E;&#x8282;&#x70B9;&#x4F9D;&#x7136;&#x5728;&#x638C;&#x63A7;&#x7F51;&#x7EDC;&#xFF0C;&#x5982;&#x6B64;&#x8FD9;&#x822C;&#xFF0C;&#x9A8C;&#x8BC1;&#x5373;&#x4E3A;&#x53EF;&#x9760;&#x7684;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x7F51;&#x7EDC;&#x88AB;&#x653B;&#x51FB;&#x8005;&#x6240;&#x63A7;&#x5236;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9A8C;&#x8BC1;&#x5C31;&#x6CA1;&#x90A3;&#x4E48;&#x53EF;&#x9760;&#x4E86;&#x3002;&#x5C3D;&#x7BA1;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x9A8C;&#x8BC1;&#x4EA4;&#x6613;&#x8BB0;&#x5F55;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x53EA;&#x8981;&#x653B;&#x51FB;&#x8005;&#x80FD;&#x591F;&#x7EE7;&#x7EED;&#x63A7;&#x5236;&#x7F51;&#x7EDC;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x7B80;&#x5316;&#x7248;&#x9A8C;&#x8BC1;&#x65B9;&#x5F0F;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x653B;&#x51FB;&#x8005;&#x4F2A;&#x9020;&#x7684;&#x4EA4;&#x6613;&#x8BB0;&#x5F55;&#x6240;&#x6B3A;&#x9A97;&#x3002;&#x5E94;&#x5BF9;&#x7B56;&#x7565;&#x4E4B;&#x4E00;&#x662F;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8F6F;&#x4EF6;&#x8981;&#x63A5;&#x53D7;&#x6765;&#x81EA;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x7684;&#x8B66;&#x544A;&#x3002;&#x5F53;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x53D1;&#x73B0;&#x65E0;&#x6548;&#x533A;&#x5757;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5373;&#x53D1;&#x51FA;&#x8B66;&#x62A5;&#xFF0C;&#x5728;&#x7528;&#x6237;&#x7684;&#x8F6F;&#x4EF6;&#x4E0A;&#x5F39;&#x51FA;&#x901A;&#x77E5;&#xFF0C;&#x544A;&#x77E5;&#x7528;&#x6237;&#x4E0B;&#x8F7D;&#x5B8C;&#x6574;&#x533A;&#x5757;&#xFF0C;&#x8B66;&#x544A;&#x7528;&#x6237;&#x786E;&#x8BA4;&#x4EA4;&#x6613;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x90A3;&#x4E9B;&#x6709;&#x9AD8;&#x9891;&#x6536;&#x4ED8;&#x53D1;&#x751F;&#x7684;&#x5546;&#x5BB6;&#x5E94;&#x8BE5;&#x4ECD;&#x7136;&#x5E0C;&#x671B;&#x8FD0;&#x884C;&#x5C5E;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;&#x5B8C;&#x6574;&#x8282;&#x70B9;&#xFF0C;&#x4EE5;&#x6B64;&#x4FDD;&#x8BC1;&#x66F4;&#x72EC;&#x7ACB;&#x7684;&#x5B89;&#x5168;&#x6027;&#x548C;&#x66F4;&#x5FEB;&#x7684;&#x4EA4;&#x6613;&#x786E;&#x8BA4;&#x3002;</p>
<h2 id="&#x8F7B;&#x91CF;&#x8282;&#x70B9;&#x7684;&#x610F;&#x4E49;">&#x8F7B;&#x91CF;&#x8282;&#x70B9;&#x7684;&#x610F;&#x4E49;</h2>
<blockquote>
<p>&#x5E76;&#x975E;&#x6240;&#x6709;&#x7684;&#x8282;&#x70B9;&#x90FD;&#x6709;&#x80FD;&#x529B;&#x50A8;&#x5B58;&#x5B8C;&#x6574;&#x7684;&#x533A;&#x5757;&#x94FE;&#x3002;&#x8BB8;&#x591A;&#x6BD4;&#x7279;&#x5E01;&#x5BA2;&#x6237;&#x7AEF;&#x88AB;&#x8BBE;&#x8BA1;&#x6210;&#x8FD0;&#x884C;&#x5728;&#x7A7A;&#x95F4;&#x548C;&#x6548;&#x7387;&#x53D7;&#x9650;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#xFF0C;&#x5982;&#x667A;&#x80FD;&#x7535;&#x8BDD;&#x3001;&#x5E73;&#x677F;&#x7535;&#x8111;&#x3001;&#x5D4C;&#x5165;&#x5F0F;&#x7CFB;&#x7EDF;&#x7B49;&#x3002;&#x901A;&#x8FC7;&#x7B80;&#x5316;&#x7684;&#x652F;&#x4ED8;&#x9A8C;&#x8BC1;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x4F7F;&#x5B83;&#x4EEC;&#x5728;&#x4E0D;&#x5FC5;&#x5B58;&#x50A8;&#x5B8C;&#x6574;&#x533A;&#x5757;&#x94FE;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>&#x2014;&#x2014;&#x300A;&#x7CBE;&#x901A;&#x6BD4;&#x7279;&#x5E01;&#x300B;6.7 &#xFF1A;<a href="http://v1.8btc.com/books/261/master_bitcoin/_book/6/6.html" target="_blank">http://v1.8btc.com/books/261/master_bitcoin/_book/6/6.html</a></p>
</blockquote>
<h2 id="&#x8F7B;&#x91CF;&#x8282;&#x70B9;&#x548C;&#x5168;&#x8282;&#x70B9;&#x7684;&#x5173;&#x7CFB;">&#x8F7B;&#x91CF;&#x8282;&#x70B9;&#x548C;&#x5168;&#x8282;&#x70B9;&#x7684;&#x5173;&#x7CFB;</h2>
<p><img src="pics/spv_wallet_loc.png" alt="spv_wallet_loc"></p>
<p>SPV &#x8282;&#x70B9;&#x662F;&#x8FD9;&#x6837;&#x5DE5;&#x4F5C;&#x7684;&#xFF1A;</p>
<ol>
<li>&#x6839;&#x636E;&#x94B1;&#x5305;&#x91CC;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x628A;&#x5730;&#x5740;&#x521B;&#x5EFA;&#x4EE5;&#x524D;&#x7684;&#x533A;&#x5757;&#x5934;&#x5168;&#x90E8;&#x4E0B;&#x8F7D;&#x4E0B;&#x6765;&#xFF1B;</li>
<li>&#x5BF9;&#x4E8E;&#x4E4B;&#x540E;&#x7684;&#x533A;&#x5757;&#xFF0C;&#x5219;&#x7531;&#x5168;&#x8282;&#x70B9;&#x63D0;&#x4F9B;&#x6211;&#x4EEC;&#x5173;&#x5FC3;&#x7684;&#x4EA4;&#x6613;&#xFF08;&#x6BD4;&#x5982;&#x53D1;&#x9001;&#x5230;&#x6211;&#x4EEC;&#x94B1;&#x5305;&#x5730;&#x5740;&#x7684;&#x4EA4;&#x6613;&#xFF09;&#x4EE5;&#x53CA;&#x8FD9;&#x4E2A;&#x4EA4;&#x6613;&#x5728;&#x67D0;&#x4E2A;&#x533A;&#x5757;&#x7684;&#x8BC1;&#x660E;&#xFF1B;</li>
<li>&#x5173;&#x5FC3;&#x7684;&#x4EA4;&#x6613;&#x88AB;&#x8BB0;&#x5165;&#x533A;&#x5757;&#x540E;&#x53C8;&#x6709;&#x82E5;&#x5E72;&#x4E2A;&#x65B0;&#x7684;&#x533A;&#x5757;&#x5934;&#xFF0C;&#x5219;&#x786E;&#x4FE1;&#x4EA4;&#x6613;&#x5DF2;&#x7ECF;&#x88AB;&#x786E;&#x8BA4;&#x3002;</li>
</ol>
<h2 id="&#x5B9E;&#x8DF5;-merkle-tree-&#x4EA4;&#x6613;&#x9A8C;&#x8BC1;">&#x5B9E;&#x8DF5; Merkle Tree &#x4EA4;&#x6613;&#x9A8C;&#x8BC1;</h2>
<p><img src="pics/merkle_tree_from_draveness.png" alt="merkle_tree_from_draven">
<strong>&#x6CE8;&#xFF1A;</strong> &#x672C;&#x56FE;&#x6765;&#x81EA; <a href="https://draveness.me/utxo-account-models" target="_blank">Draveness &#x7684;&#x535A;&#x5BA2;</a></p>
<p>&#x3010;Python &#x77E5;&#x8BC6;&#x70B9;&#x3011; &#x70B9;&#x51FB;&#x94FE;&#x63A5;&#x8DF3;&#x8F6C;&#x81F3;&#x300A;&#x81EA;&#x5B66;&#x662F;&#x95E8;&#x624B;&#x827A;&#x300B;&#x76F8;&#x5E94;&#x77E5;&#x8BC6;&#x70B9;</p>
<ul>
<li><a href="https://github.com/selfteaching/the-craft-of-selfteaching/blob/master/Part.2.D.1-args.ipynb" target="_blank">&#x51FD;&#x6570;</a></li>
<li><a href="https://github.com/selfteaching/the-craft-of-selfteaching/blob/master/Part.1.E.3.controlflow.ipynb" target="_blank">&#x6D41;&#x7A0B;&#x63A7;&#x5236; &#x2014;&#x2014; for &#x5FAA;&#x73AF;</a></li>
</ul>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> import_ipynb
<span class="hljs-keyword">from</span> IPython.display <span class="hljs-keyword">import</span> display, Markdown
<span class="hljs-keyword">import</span> hashlib,json
<span class="hljs-keyword">import</span> others.merkle_tree <span class="hljs-keyword">as</span> mk_tree
display(Markdown(<span class="hljs-string">&quot;**First Example - Even number of transaction Merkel Tree**&quot;</span>))
display(Markdown(<span class="hljs-string">&apos;**Final root of the tree:** \n\n&apos;</span> + mk_tree.Jae_Tree.get_root_leaf()))
display(Markdown(<span class="hljs-string">&quot;**merkle tree:** \n\n&quot;</span> + json.dumps(mk_tree.past_transaction, indent=<span class="hljs-number">4</span>)))
<span class="hljs-comment">## =====================</span>
display(Markdown(<span class="hljs-string">&quot;**verify tx by merkle tree:**&quot;</span>))
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">verify_tx_by_merkle_tree</span><span class="hljs-params">(tx, leafs, root)</span>:</span>
    current = tx
    <span class="hljs-keyword">for</span> leaf <span class="hljs-keyword">in</span> leafs:
        current = hashlib.sha256((current + leaf).encode()).hexdigest()
    <span class="hljs-keyword">return</span> current==root
tx = <span class="hljs-string">&quot;ca978112ca1bbdcafac231b39a23dc4da786eff8147c4e72b9807785afee48bb&quot;</span>
tx_2 = <span class="hljs-string">&quot;ca978112ca1bbdcafac231b39a23dc4da786eff8147c4e72b9807785afee48bd&quot;</span>
leafs = [<span class="hljs-string">&quot;3e23e8160039594a33894f6564e1b1348bbd7a0088d42c4acb73eeaed59c009d&quot;</span>, <span class="hljs-string">&quot;d3a0f1c792ccf7f1708d5422696263e35755a86917ea76ef9242bd4a8cf4891a&quot;</span>]
root = <span class="hljs-string">&quot;58c89d709329eb37285837b042ab6ff72c7c8f74de0446b091b6a0131c102cfd&quot;</span>

print(<span class="hljs-string">&quot;tx 1: &quot;</span> + str(verify_tx_by_merkle_tree(tx, leafs, root)))
print(<span class="hljs-string">&quot;tx 2: &quot;</span> + str(verify_tx_by_merkle_tree(tx_2, leafs, root)))
</code></pre>
<p><strong>First Example - Even number of transaction Merkel Tree</strong></p>
<p><strong>Final root of the tree:</strong> </p>
<p>58c89d709329eb37285837b042ab6ff72c7c8f74de0446b091b6a0131c102cfd</p>
<p><strong>merkle tree:</strong> </p>
<p>{
    &quot;a&quot;: &quot;ca978112ca1bbdcafac231b39a23dc4da786eff8147c4e72b9807785afee48bb&quot;,
    &quot;b&quot;: &quot;3e23e8160039594a33894f6564e1b1348bbd7a0088d42c4acb73eeaed59c009d&quot;,
    &quot;c&quot;: &quot;2e7d2c03a9507ae265ecf5b5356885a53393a2029d241394997265a1a25aefc6&quot;,
    &quot;d&quot;: &quot;18ac3e7343f016890c510e93f935261169d9e3f565436429830faf0934f4f8e4&quot;,
    &quot;ca978112ca1bbdcafac231b39a23dc4da786eff8147c4e72b9807785afee48bb3e23e8160039594a33894f6564e1b1348bbd7a0088d42c4acb73eeaed59c009d&quot;: &quot;62af5c3cb8da3e4f25061e829ebeea5c7513c54949115b1acc225930a90154da&quot;,
    &quot;2e7d2c03a9507ae265ecf5b5356885a53393a2029d241394997265a1a25aefc618ac3e7343f016890c510e93f935261169d9e3f565436429830faf0934f4f8e4&quot;: &quot;d3a0f1c792ccf7f1708d5422696263e35755a86917ea76ef9242bd4a8cf4891a&quot;,
    &quot;62af5c3cb8da3e4f25061e829ebeea5c7513c54949115b1acc225930a90154dad3a0f1c792ccf7f1708d5422696263e35755a86917ea76ef9242bd4a8cf4891a&quot;: &quot;58c89d709329eb37285837b042ab6ff72c7c8f74de0446b091b6a0131c102cfd&quot;
}</p>
<p><strong>verify tx by merkle tree:</strong></p>
<pre><code>tx 1: True
tx 2: False
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="7_Reclaiming_Disk_Space_回收硬盘空间.html" class="navigation navigation-prev " aria-label="Previous page: 7 Reclaiming Disk Space 回收硬盘空间">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="9_Combining_and_Splitting_Value_值的组合与分割.html" class="navigation navigation-next " aria-label="Next page: 9 Combining and Splitting Value 值的组合与分割">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"8 Simplified Payment Verification 简化版支付确认","level":"1.11","depth":1,"next":{"title":"9 Combining and Splitting Value 值的组合与分割","level":"1.12","depth":1,"path":"9_Combining_and_Splitting_Value_值的组合与分割.md","ref":"9_Combining_and_Splitting_Value_值的组合与分割.md","articles":[]},"previous":{"title":"7 Reclaiming Disk Space 回收硬盘空间","level":"1.10","depth":1,"path":"7_Reclaiming_Disk_Space_回收硬盘空间.md","ref":"7_Reclaiming_Disk_Space_回收硬盘空间.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"8_Simplified_Payment_Verification_简化版支付确认.md","mtime":"2019-09-05T14:49:50.161Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-09-05T14:49:59.646Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

